<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>缩放应用</title>
    <script src="d3.js"></script>
</head>
<body>

<script>
    //zoom的定义
    var zoom = d3.zoom()//创建一个zoom操作，返回一个zoom对象方法 通常被传递给selection.call来调用
                    .scaleExtent([1,10])//设置缩放范围
                    .on('zoom',zoomed);//设置监听
    function zoomed(){
        d3.select(this)
            .attr('transform',
                'translate('+
                    d3.event.transform.x//平移的坐标值
                +','+
                    d3.event.transform.y
                +') scale('+
                    d3.event.transform.k//缩放的值
                +')');
    }

    /****************绘制圆*******************/
    var svg = d3.select('body').append('svg').attr('width',500).attr('height',400),
        circles = [
        {cx:150,cy:200,r:30},
        {cx:250,cy:200,r:30}
        ];

    var circles_group = svg.append('g').call(zoom);
    circles_group.selectAll('circle')
        .data(circles)
        .enter().append('circle')
        .attr('cx',function(d){return d.cx})
        .attr('cy',function(d){return d.cy})
        .attr('r',function(d){return d.r})
        .attr('fill','black');


























</script>
</body>
</html>